<aura:component controller = "PageFormController" implements = "forceCommunity:layout,force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access = "global">
    <aura:handler name = "init" value = "{!this}" action = "{!c.doInit}"/>
    <aura:attribute name = "account" type = "Account" default = "{'sobjectType': 'account','Name': '', 'FederalTaxId__c': ''}"/>
    <aura:attribute name = "contact" type = "Contact" default = "{'sobjectType': 'contact','FirstName': '', 'LastName': '','Email__c': '','AccountId': ''}"/>
    <aura:attribute name = "recordId" type = "Id"/>
    <aura:attribute name = "fileIds" type = "Id[]"/>
    <aura:attribute name = "accept" type = "List" default = "['.txt', '.jpg', '.jpeg', '.png']"/>
    <aura:attribute name = "multiple" type = "Boolean" default = "true"/>
    <aura:attribute name = "disabled" type = "Boolean" default = "false"/>
    <aura:attribute name = "isError" type = "Boolean" default = "false"/>
    <aura:attribute name = "isConfirm" type = "Boolean" default = "false"/>
    <aura:attribute name = "isDisabled" type = "Boolean" default = "false"/>
    <aura:attribute name = "executeBtn" type = "String" default = "Insert"/>
    <aura:attribute name = "msg" type = "String"/>
    <div class = "slds-grid slds-wrap">
        <div class = "slds-align_absolute-center">
            <aura:if isTrue = "{!v.isError}">
                <ui:message title = "Error" severity = "error" closable = "true">
                    {!v.msg}
                </ui:message>
            </aura:if>
            <aura:if isTrue = "{!v.isConfirm}">
                <ui:message title = "Confirmation" severity = "confirm" closable = "true">
                    {!v.msg}
                </ui:message>
            </aura:if>
        </div>
        <div class = "slds-col slds-size_4-of-4 slds-align_absolute-center">
            <article class = "slds-card">
                <div class = "slds-m-around--large">
                    <h3>Please enter next information!</h3>
                    <div class = "slds-form-element slds-is-required" style = "margin-top:5px">
                        <label class = "slds-form-element__label">
                            <abbr class = "slds-required" title = "required">*</abbr>Company Name
                        </label>
                        <ui:inputText class = "slds-input" value = "{!v.account.Name}"/>
                    </div>
                    <div class = "slds-form-element slds-is-required" style = "margin-top:5px">
                        <label class = "slds-form-element__label">
                            <abbr class = "slds-required" title = "required">*</abbr>Federal Tax Id
                        </label>
                        <ui:inputText class = "slds-input" value = "{!v.account.FederalTaxId__c}" disabled = "{!v.isDisabled}"/>
                    </div>
                    <div class = "slds-form-element" style = "margin-top:2px">
                        <label class = "slds-form-element__label">
                            <abbr class = "slds-required" title = "required">*</abbr>First Name
                        </label>
                        <ui:inputText class = "slds-input" value = "{!v.contact.FirstName}"/>
                    </div>
                    <div class = "slds-form-element" style = "margin-top:2px">
                        <label class = "slds-form-element__label">
                            <abbr class = "slds-required" title = "required">*</abbr>Last Name
                        </label>
                        <ui:inputText class = "slds-input" value = "{!v.contact.LastName}"/>
                    </div>
                    <div class = "slds-form-element" style = "margin-top:2px">
                        <label class="slds-form-element__label">
                            <abbr class="slds-required" title = "required">*</abbr>Email Address
                        </label>
                        <ui:inputEmail class = "slds-input" value = "{!v.contact.Email__c}" disabled = "{!v.isDisabled}"/>
                    </div>
                    <lightning:buttonGroup>
                        <lightning:button class = "slds-button slds-button_brand slds-m-around_x-small slds-align_absolute-center"
                                name = "execute"
                                label = "{!v.executeBtn}"
                                onclick = "{!c.onInsert}"/>
                        <lightning:button class = "slds-button slds-button_brand slds-m-around_x-small slds-align_absolute-center"
                                name = "logout"
                                label = "Logout"
                                onclick = "{!c.onLogout}"/>
                    </lightning:buttonGroup>
                    <lightning:fileUpload  name = "driverLicense"
                           label = "Driver License"
                           multiple = "{!v.multiple}"
                           accept = "{!v.accept}"
                           disabled = "{!v.disabled}"
                           recordId = "{!v.recordId}"/>
                    <lightning:fileUpload  name = "resume"
                           label = "Resume"
                           multiple = "{!v.multiple}"
                           accept = "{!v.accept}"
                           disabled = "{!v.disabled}"
                           recordId = "{!v.recordId}"/>
                    <aura:iteration items = "{!v.fileIds}" var = "fileId">
                        <lightning:fileCard fileId = "{!fileId}" description = "{!fileId}"/>
                    </aura:iteration>
                </div>
            </article>
        </div>
    </div>
</aura:component>